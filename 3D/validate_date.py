import re

# date_regs = [r'[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])',
#              r'[0-9]{4}.(0[1-9]|1[012]).(0[1-9]|1[0-9]|2[0-9]|3[01])',
#              r'[0-9]{4}/(0[1-9]|1[012])/(0[1-9]|1[0-9]|2[0-9]|3[01])',
#              #YYYY.MM.DD
#              '(0[1-9]|1[0-9]|2[0-9]|3[01]).(0[1-9]|1[012]).[0-9]{4}',
#              r'(0[1-9]|1[0-9]|2[0-9]|3[01])/(0[1-9]|1[012])/[0-9]{4}',
#              r'(0[1-9]|1[0-9]|2[0-9]|3[01])-(0[1-9]|1[012])-[0-9]{4}',
#              #DD.MM.YYYY
#              r'(0[1-9]|1[0-9]|2[0-9]|3[01])[ \t\n\r\f\v]?[а-яА-ЯёЁa-zA-Z^0-9][ \t\n\r\f\v]?[0-9]{4}']

date_regs = ['[0-9]{4}[-./](0[1-9]|1[012])[-./](0[1-9]|1[0-9]|2[0-9]|3[01])',
             #YYYY.MM.DD
             '(0[1-9]|1[0-9]|2[0-9]|3[01])[-./](0[1-9]|1[012])[-./][0-9]{4}',
             #DD.MM.YYYY
             '(0?[1-9]|[12][0-9]|3[01])\s?[а-яА-ЯёЁa-zA-Z]\s?[0-9]{4}']


with open("input.txt") as fin:
    for line in fin:
        # line.strip('\n')
        answer = 'NO'
        for reg in date_regs:
            if re.match(reg, line):
                answer = 'YES'
                break
        print(line)
        print(answer)
